<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shop fruit</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <link rel="stylesheet" href="css/home.css">
    <script src="Product.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light " style="background-color: hotpink">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="img/logo.jpeg" height="90" width="120"/></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="index.html">Trang chủ</a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Mặt Hàng
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#">Combo</a></li>
                        <li><a class="dropdown-item" href="#">Hàng giảm giá</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Hàng Nhập Khẩu</a></li>
                    </ul>
                <li id="upProduct" class="nav-item">
                </li>
                <li id="order" class="nav-item">
                </li>
                </li>
            </ul>
            <form class="d-flex">
                <input class="form-control me-2" id="search" oninput="actionSearch()" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>

            </form>
            <ul id="user" class="navbar-nav">
            <li class="nav-item">
                <a style="border: 1px solid black ; border-radius: 5px;background-color: white;color: blue" class="nav-link" href="log%20in/index.html"><i class="bi bi-door-open"></i> Đăng Nhập</a>
            </li>
            </ul>
        </div>
    </div>
</nav>
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="img/slider_1.webp" class="d-block w-100"  height="440" width="1350"/></div>
        <div class="carousel-item">
            <img src="img/slider_2.webp" class="d-block w-100"  height="440" width="1350"/>
        </div>
        <div class="carousel-item">
            <img src="img/slider_3.webp" height="440" width="1350"/></div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<h3>Sản phẩm Hot!!!</h3>
<div class="row row-cols-1 row-cols-md-4 g-4" id="drawTable">
</div>
<!-- Footer -->
<footer class="text-center text-lg-start bg-light text-muted">
    <!-- Section: Social media -->
    <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
        <!-- Left -->
        <div class="me-5 d-none d-lg-block">
            <span>Get connected with us on social networks:</span>
        </div>
        <!-- Left -->

        <!-- Right -->
        <div>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-google"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-github"></i>
            </a>
        </div>
        <!-- Right -->
    </section>
    <!-- Section: Social media -->

    <!-- Section: Links  -->
    <section class="">
        <div class="container text-center text-md-start mt-5">
            <!-- Grid row -->
            <div class="row mt-3">
                <!-- Grid column -->
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <!-- Content -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        <i class="fas fa-gem me-3"></i>Company name
                    </h6>
                    <p>
                        Here you can use rows and columns to organize your footer content. Lorem ipsum
                        dolor sit amet, consectetur adipisicing elit.
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Products
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Angular</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">React</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Vue</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Laravel</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Useful links
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Pricing</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Settings</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Orders</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Help</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                    <p><i class="fas fa-home me-3"></i> New York, NY 10012, US</p>
                    <p>
                        <i class="fas fa-envelope me-3"></i>
                        info@example.com
                    </p>
                    <p><i class="fas fa-phone me-3"></i> + 01 234 567 88</p>
                    <p><i class="fas fa-print me-3"></i> + 01 234 567 89</p>
                </div>
                <!-- Grid column -->
            </div>
            <!-- Grid row -->
        </div>
    </section>
    <!-- Section: Links  -->

    <!-- Copyright -->
    <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
        © 2021 Copyright:
        <a class="text-reset fw-bold" href="https://mdbootstrap.com/">MDBootstrap.com</a>
    </div>
    <!-- Copyright -->
</footer>
<!-- Footer -->
<script>
    let listCart=JSON.parse(localStorage.getItem('list_cart'))
    if(listCart==null){
        listCart=[];
    }
    let listElement=JSON.parse(localStorage.getItem('list_element'));
    function showListElement(){
        let drawTable='';
        for (let i=0;i<listElement.length;i++){
            drawTable+= `<div className="col">
                <div className="card">
                    <img src="${listElement[i].image}" className="card-img-top" alt="...">
                        <div className="card-body">
                            <h5 className="card-title">${listElement[i].name}</h5>
                            <p className="card-text">${listElement[i].price} VND</p>
                        </div>
                         <div class=".justify-content-sm-center">
                         <button class="btn btn-outline-danger"> <a style="text-decoration: none" href="log%20in/index.html">Mua luôn</a></button>
                         </div>
                </div>
            </div>`

        }
        document.getElementById('drawTable').innerHTML=drawTable;
    }
    showListElement()

    //dang nhap
let user2='quangtuan97';

    let user1=JSON.parse(localStorage.getItem('user'));

    if (user1!=null) {
        if (user1.username===user2) {
            document.getElementById('user').innerHTML = ` <li class="nav-item">
                <a class="nav-link" >${user1.username}</a>
            </li>
            <ul id="user" class="navbar-nav">
            <li class="nav-item">
                <button class="btn btn-primary" ><a onclick="logOut()" >log out </a></button>
            </li>
            </ul>
`
            document.getElementById('upProduct').innerHTML=`
                            <a class="nav-link" href="upLoad.html">up product</a>

                        `
            document.getElementById('order').innerHTML=` <a class="nav-link" href="Order.html">Order</a>`
            let drawTable='';
            for (let i=0;i<listElement.length;i++){
                drawTable+= `<div className="col">
                <div className="card">
                    <img src="${listElement[i].image}" className="card-img-top" alt="...">
                        <div className="card-body">
                            <h5 className="card-title">${listElement[i].name}</h5>
                            <p className="card-text">${listElement[i].price} VND</p>
                        </div>
                         <div class=".justify-content-sm-center">

                         </div>
                </div>
            </div>`

            }
            document.getElementById('drawTable').innerHTML=drawTable;
        } else {
            document.getElementById('user').innerHTML = ` <li class="nav-item">
                <a class="nav-link" >${user1.username}</a>
            </li><ul id="user" class="navbar-nav">
            <li class="nav-item">
                <button class="btn btn-primary"><a onclick="logOut()" >log out </a></button>
            </li>
            </ul>`
            document.getElementById('upProduct').innerHTML=`
                           <a class="nav-link" href="cart.html">Giỏ hàng<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart4" viewBox="0 0 16 16">
  <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
</svg><sup>${listCart.length}</sup></a>  `

            let drawTable='';
            for (let i=0;i<listElement.length;i++){
                drawTable+= `<div className="col">
                <div className="card">
                    <img src="${listElement[i].image}" className="card-img-top" alt="...">
                        <div className="card-body">
                            <h5 className="card-title">${listElement[i].name}</h5>
                            <p className="card-text">${listElement[i].price} VND</p>
                        </div>
                         <div class=".justify-content-sm-center">
                         <button class="btn btn-outline-danger" onclick="upListCart(${listElement[i].id})">Mua luôn</a></button>
                         </div>
                </div>
            </div>`

            }
            document.getElementById('drawTable').innerHTML=drawTable;

        }
    }
    function logOut() {
     if (confirm('Bạn có muốn đăng xuất không')){
         localStorage.removeItem('user');
         location.href='index.html'
     }

    }
    // gio hang

    function findById(id) {
        for (let i = 0; i < listElement.length; i++) {
            if (id === listElement[i].id) {
                return listElement[i];
            }
        }

    }
    function upListCart(id) {
        let elementCart= findById(id);
        if (listCart.length==0){
            listCart.push({
                'product': elementCart,
                'quantity':1
            } )
        }else {
            let checkElement=false;
            for (let i =0;i<listCart.length;i++){
                if (listCart[i].product.id==id){
                    checkElement=true;
                    listCart[i].quantity+=1;
                    break;
                }
            }if (!checkElement){
                listCart.push({
                    'product': elementCart,
                    'quantity':1
                })
            }
        }
        localStorage.setItem('list_cart',JSON.stringify(listCart))
        document.getElementById('upProduct').innerHTML=`
                           <a class="nav-link" href="cart.html">Giỏ hàng<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart4" viewBox="0 0 16 16">
  <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
</svg><sup style="border: 1px solid white">${listCart.length}</sup></a>  `
        alert('thêm thành công vào giỏ hàng')
    }
    //tim kiem
    let  listSearch=[];
    function actionSearch() {
        let search=document.getElementById('search').value;
        if (search.trim()==""){
            showListElement();
        }else {
            listSearch=[];
            for (let i=0;i<listElement.length;i++){
                if (listElement[i].name.toLowerCase().search(search.toLowerCase())!==-1){
                    listSearch.push(listElement[i])
                }
            }
            showListSearch()
        }

    }
    function showListSearch() {
        let drawTable='';
        for (let i=0;i<listSearch.length;i++){
            drawTable+= `<div className="col">
                <div className="card">
                    <img src="${listSearch[i].image}" className="card-img-top" alt="...">
                        <div className="card-body">
                            <h5 className="card-title">${listSearch[i].name}</h5>
                            <p className="card-text">${listSearch[i].price} VND</p>
                        </div>
                         <div class=".justify-content-sm-center">
                         <button class="btn btn-outline-danger"> <a href="log%20in/index.html">Mua luôn</a></button>
                         </div>
                </div>
            </div>`
    }
        document.getElementById('drawTable').innerHTML=drawTable;
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"-->
<!--        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"-->
<!--        crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"-->
<!--        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"-->
<!--        crossorigin="anonymous"></script>-->
</body>
</html>